!function(l){var n=[];l.fn.tabFrozenScroll=function(o){var i=this,t=l.extend({mainTable:"",minScrollHeight:-1,tabFixedClass:"tab-fixed",timeBeforeScroll:0,callbackAfterMove:void 0},o),a=function(){l(window).scrollTop()>t.minScrollHeight?i.addClass(t.tabFixedClass):i.removeClass(t.tabFixedClass),t.callbackAfterMove&&t.callbackAfterMove(i)},c=function(o){var i=e(o);n[i].lastScroll=l(window).scrollTop()},r=function(o){var i=e(o);setTimeout(function(){l(window).scrollTop(n[i].lastScroll)},t.timeBeforeScroll)},e=function(l){f(n,"tab",l)||n.push({tab:l,lastScroll:0});var o,i=0;return n.forEach(function(n){n.tab===l&&(o=i),i++}),o},f=function(l,n,o){return-1!==l.map(function(l){return l[n]}).indexOf(o)};t.mainTable&&l(t.mainTable).on("click",function(){n=[]}),l(window).scrollTop()>t.minScrollHeight&&a(),l(window).scroll(function(){a()}),i.find("li").on("click",function(n){var o=l(n.target).attr("id"),t=i.find("li[class='active']").children().attr("id");c(t),r(o)})}}(jQuery);